<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <title>noit o' mnain worb</title>
  <style>
#canvas { border: 1px solid blue; }
#canvas_viewport {
    width: 420px; height: 420px; overflow: scroll; border: 1px solid black;
    display: inline-block;
}
.initial_configuration { display: none; }
  </style>
</head>
<body>

<h1>noit o' mnain worb
<button id="load">Load</button>
<button id="start">Start</button>
<button id="stop">Stop</button>
</h1>

<div>
  <span class="control-container">
    configuration:
    <span id="select_configuration_div">
      <select id="select_configuration">
        <option>(select one...)</option>
        <option>freefill</option>
        <option>magnetic_field</option>
        <option>theory_of_time</option>
        <option>fast_loop</option>
        <option>pressure</option>
      </select>
    </span>
  </span>
</div>

<div id="canvas_viewport">
  <canvas id="canvas" width="400" height="400">
    Your browser doesn't support displaying an HTML5 canvas.
  </canvas>
</div>

<textarea id="configuration" rows="25" cols="40">
</textarea>

<div class="initial_configuration" id="freefill"
>######################
#                    #
#                    #
#                    #
#                    #
#                    #
#         +          #
#                    #
#                    #
#                    #
#                    #
######################
</div>

<div class="initial_configuration" id="theory_of_time"
>######################
#..........          #
#..........          #
#..........          #
#..........          #
#..........          #
#..........          #
#..........          #
#..........          #
#..........          #
#..........          #
######################
</div>

<div class="initial_configuration" id="fast_loop"
>#######
# ( ( #
#v###^#
# ).) #
#######
</div>

<div class="initial_configuration" id="magnetic_field"
>######################
#                    #
#                    #
#                    #
#        ---         #
#        ---         #
#        +++         #
#        +++         #
#                    #
#                    #
#                    #
######################
</div>

<div class="initial_configuration" id="pressure"
>#######################
#..........)          #
#######################
</div>

</body>
<script src="../src/yoob/playfield.js"></script>
<script src="../src/worb.js"></script>
<script>
  var canvas = document.getElementById('canvas');
  var worb = new NoitOMnainWorb();
  worb.init(canvas);
  document.getElementById('load').onclick = function() {
      var cfg = document.getElementById('configuration');
      worb.load(cfg);
  };
  document.getElementById('start').onclick = function() {
      worb.start();
  };
  document.getElementById('stop').onclick = function() {
      worb.stop();
  };
  document.getElementById('select_configuration').onchange = function() {
      var cfg = document.getElementById('configuration');
      var initcfg = document.getElementById(this.options[this.selectedIndex].value);
      cfg.value = initcfg.innerHTML;
      worb.load(cfg);
  };
</script>
